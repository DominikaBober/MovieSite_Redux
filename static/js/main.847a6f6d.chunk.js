(this.webpackJsonpprojekt=this.webpackJsonpprojekt||[]).push([[0],{115:function(e,t,a){},116:function(e){e.exports=JSON.parse('{"App":{"Navbar":{"main":"Strona g\u0142\xf3wna","movies":"Filmy","actors":"Aktorzy","persons":"Osoby","form":"Formularze","language":{"language":"Wybierz j\u0119zyk","polish":"polski","english":"angielski"}}},"Dashboard":{"new_movies":"Nowe filmy"},"Form":{"add_movie":"Dodaj Film","add_person":"Dodaj Osob\u0119","add_actor":"Dodaj Aktora","edit_movie":"Edytuj Film","edit_person":"Edytuj Osob\u0119","title":"tytu\u0142","movie_title":"tytu\u0142 filmu","genre":"gatunek","genres":{"fabular":"Film obyczajowy","action":"Film akcji","animation":"Film animowany","biography":"Film biograficzny","children":"Film dla dzieci","documentary":"Dokument","drama":"Dramat","erotic":"Film erotyczny","family":"Film familijny","fantastic":"Fantastyka","fantasy":"Fantasy","horror":"Horror","sf":"Science fiction","historic":"Film historyczny","costium":"Film kostiumowy","catastrophic":"Film katastroficzny","comedy":"Komedia","dark_comedy":"Czarna komedia","romcom":"Komedia romantyczna","drama_comedy":"Komediodramat","parody":"Parodia","criminal":"Krymina\u0142","gangsta":"Film gangsterski","spy":"Film szpiegowski","musical":"Film muzyczny","polit":"Film polityczny"},"release_date":"data premiery","description":"opis","movie_image_url":"link do plakatu","director_id":"re\u017cyser","first_name":"imi\u0119","last_name":"nazwisko","birth_date":"data urodzenia","person_image_url":"link do zdj\u0119cia","nationality":"narodowo\u015b\u0107","actor":"aktor","submit":"zatwierd\u017a","add_director":"Je\u015bli na li\u015bcie nie ma re\u017cysera twojego filmu, dodaj go pow\u017cyej.","thanks_add_movie":"Dzi\u0119kujemy za dodanie filmu","thanks_update_movie":"Dzi\u0119kujemy za edycj\u0119 filmu","thanks_add_person":"Dzi\u0119kujemy za dodanie osoby","thanks_update_person":"Dzi\u0119kujemy za edycj\u0119 osoby","thanks_add_actor":"Dzi\u0119kujemy za dodanie aktora","thanks_update_actor":"Dzi\u0119kujemy za edycj\u0119 aktora","wrong_title":"Podany tytu\u0142 ju\u017c istnieje","edit":"Edytuj","cancle":"powr\xf3t","validate":"wymagane","cancle_filtr":"resetuj","submit_filtr":"filtruj","error":"Podany tutu\u0142 ju\u017c istnieje"},"Movies":{"director":"Re\u017cyser","release_date":"Data premiery","description":"Opis","genre":"Gatunek","no_movies":"Brak film\xf3w o wybranych kryteriach","Sort":{"sort":"Sortowanie","default":"domy\u015blnie","release_date":"data premiery","title":"tytu\u0142","director":"re\u017cyser alfabetycznie","genre":"gatunek alfabetycznie"},"Filtr":{"filtr":"Filtrowanie","director":"re\u017cyserzy","genre":"gatunki","data":"data premiery","from":"od","to":"do"},"number_of_movies":"Film\xf3w na stronie","delete_movie":"Film zosta\u0142 usuni\u0119ty"},"Persons":{"birth_date":"Data urodzenia","nationality":"Narodowo\u015b\u0107","Sort":{"sort":"Sortowanie","default":"domy\u015blnie","first_name":"imi\u0119 alfabetycznie","last_name":"nazwisko alfabetycznie","birth_date":"data urodzenia","nationality":"narodowo\u015b\u0107"},"number_of_persons":"Os\xf3b na stronie","directed_movies":"Wyre\u017cyserowane filmy","delete":"Usu\u0144","delete_person":"Osoba zosta\u0142a usuni\u0119ta","no_persons":"Brak os\xf3b o wybranych kryteriach","Filtr":{"filtr":"Filtrowanie","nationality":"narodowo\u015b\u0107","movies":"ilo\u015b\u0107 wyre\u017cyserowanych film\xf3w","birth_date":"data urodzenia","from":"od","to":"do"}},"Error":{"404":"Strony nie znaleziono","500":"Przepraszamy, b\u0142\u0105d serwera"}}')},117:function(e,t,a){},129:function(e,t,a){},139:function(e){e.exports=JSON.parse('[{"id":2,"title":"Vabank","genre":"comedy","release_date":"1981-09-28T23:00:00.000Z","description":"Debiut fabularny Juliusza Machulskiego. Film \u0142\u0105czy elementy czystego krymina\u0142u spod znaku Alfreda Hitchcocka ze stylizacj\u0105 retro. Akcja toczy si\u0119 w scenerii warszawskiej w latach trzydziestych. Do\u015bwiadczony kasiarz Kwinto (Jan Machulski) opuszcza w\u0142a\u015bnie wi\u0119zienie i obmy\u015bla zemst\u0119 na Kramerze (Leonard Pietraszak), w\u0142a\u015bcicielu banku, kt\xf3ry przed laty nam\xf3wi\u0142 go na w\u0142amanie, a nast\u0119pnie zadenuncjowa\u0142 policji.","image_url":"https://www.poster.pl/posters/pagowski_andrzej_vabank.jpg","director_id":1},{"id":3,"title":"Trzeba zabi\u0107 t\u0119 mi\u0142o\u015b\u0107","genre":"drama","release_date":"1972-12-08T23:00:00.000Z","description":"Magda i Andrzej nie dostaje si\u0119 na studia z powodu zbyt niskiej liczby punkt\xf3w. Dziewczyna podejmuje prac\u0119 salowej w prywatnym szpitalu. Ch\u0142opak zatrudnia si\u0119 w prywatnym warsztacie samochodowym. Oboje si\u0119 kochaj\u0105, my\u015bl\u0105 o wsp\xf3lnym \u017cyciu. Andrzej w tajemnicy przed Magd\u0105 zgadza si\u0119 zosta\u0107 kochankiem kobiety, kt\xf3ra jest \u017con\u0105 jego szefa. Pewnego dnia m\u0142ody pracownik wykorzystuje okazj\u0119 i kradnie z mieszkania prze\u0142o\u017conego cenn\u0105 ikon\u0119. Magda dowiaduje si\u0119 o zdradzie Andrzeja.","image_url":"https://www.poster.pl/posters/swierzy_trzeba_zabic.jpg","director_id":4},{"id":4,"title":"Jowita","genre":"drama","release_date":"1967-10-28T23:00:00.000Z","description":"Dramat psychologiczno - obyczajowy: historia mi\u0142o\u015bci mi\u0119dzy utalentowanym lekkoatlet\u0105 (Daniel Olbrychski), a tajemnicz\u0105 dziewczyn\u0105 (Barbara Kwiatkowska). G\u0142\xf3wny bohater, Marek Arens poznaje na balu przebiera\u0144c\xf3w dziewczyn\u0119, kt\xf3rej twarz ukryta by\u0142a pod czarczafem. Oczarowany jej wspania\u0142ymi czarnymi oczami zakochuje si\u0119. Jednak nie potrafi jej odnale\u017a\u0107 i wpl\u0105tuje si\u0119 w romanse z innymi kobietami ca\u0142y czas jej poszukuj\u0105c. \u017byje marzeniami o wielkiej mi\u0142o\u015bci, kreuj\u0105c siebie w kolejnych nieudanych pr\xf3bach na kogo\u015b lepszego ni\u017c jest w istocie.","image_url":"https://poster.pl/posters/stachurski_jowita.jpg","director_id":4},{"id":5,"title":"Brunet wieczorow\u0105 por\u0105","genre":"dark_comedy","release_date":"1976-10-16T23:00:00.000Z","description":"Cyganka przepowiada Micha\u0142owi Romanowi (Krzysztof Kowalewski) niezwyk\u0142e prze\u017cycia, jednak on nie bierze powa\u017cnie tych proroctw. Gdy jego rodzina wyje\u017cd\u017ca na weekend, Micha\u0142 zabiera si\u0119 do zaleg\u0142ej pracy. Wtedy zaczynaj\u0105 si\u0119 spe\u0142nia\u0107 proroctwa Cyganki - Micha\u0142 znajduje zaginiony zegarek, a w totolotku wylosowane zostaj\u0105 przepowiedziane liczby. Bohater zaczyna oczekiwa\u0107 najgro\u017aniejszej cz\u0119\u015bci przepowiedni - zapowiada ona zabicie bruneta, kt\xf3ry zjawi si\u0119 w jego mieszkaniu wieczorow\u0105 por\u0105...","image_url":"https://sto90.pl/content/uploads/2017/04/50x70_brunet_wieczorowa_pora_2.png","director_id":6},{"id":1,"title":"Seksmisja","genre":"comedy","release_date":"1984-05-09T22:00:00.000Z","description":"Dwaj \u015bmia\u0142kowie: Maks (Jerzy Stuhr) i Albert (Olgierd \u0141ukaszewicz), jako ochotnicy daj\u0105 si\u0119 na kr\xf3tki okres zahibernowa\u0107. Budz\u0105 si\u0119 po przesz\u0142o 50 latach, maj\u0105c nadziej\u0119 na s\u0142aw\u0119 i zaszczyty, lecz... Od opiekuj\u0105cej si\u0119 nimi doktor Lamii dowiaduj\u0105 si\u0119, \u017ce hibernacja trwa\u0142a du\u017co d\u0142u\u017cej z powodu wojny, a co gorsza podczas walk zniszczono ca\u0142kowicie geny m\u0119skie. Dzielni - i zarazem jedyni - faceci postanawiaj\u0105 uciec kobietom i przywr\xf3ci\u0107 \\"normalny\\" porz\u0105dek \u015bwiata.","image_url":"https://polskaszkolaplakatu.pl/userdata/public/gfx/a35e44ef1727f31893c898fb6293841a.jpg","director_id":1},{"id":9,"title":"Dwa \u017cebra Adama","genre":"comedy","release_date":"1964-01-22T23:00:00.000Z","description":"Powracaj\u0105cy z zagranicy in\u017cynier zamieszkuje ze swoimi dwiema \u017conami. Tego faktu nie mog\u0105 znie\u015b\u0107 mieszka\u0144cy miasteczka.","image_url":"https://m.media-amazon.com/images/M/MV5BYjJmM2FlYzktYjZmNy00YmZlLWI4M2YtYTliOGE3OGM3OTQ5XkEyXkFqcGdeQXVyMTc4MzI2NQ@@._V1_UY1200_CR104,0,630,1200_AL_.jpg","director_id":4},{"id":8,"title":"Do widzenia do jutra 2","genre":"fabular","release_date":"1960-05-22T22:00:00.000Z","description":"Artysta Jacek poznaje pi\u0119kn\u0105 c\xf3rk\u0119 francuskiego konsula, Margueritte, kt\xf3r\u0105 oprowadza po Gda\u0144sku.","image_url":"https://i.pinimg.com/474x/66/17/22/661722ac4dfe4a2faffb2eeec3546550.jpg","director_id":4},{"id":10,"title":"Ma\u0142\u017ce\u0144stwo z rozs\u0105dku","genre":"musical","release_date":"1967-07-03T23:00:00.000Z","description":"Muzyczna komedia obyczajowa o perypetiach dw\xf3ch ch\u0142opc\xf3w rywalizuj\u0105cych o dziewczyn\u0119, ukazuj\u0105ca dwa przeciwstawne \u015brodowiska - cyganerii artystycznej i bazarowych kombinator\xf3w. Joanna, c\xf3rka handlarza z bazaru R\xf3\u017cyckiego, kocha Andrzeja, m\u0142odego, zdolnego, lecz ubogiego plastyka staraj\u0105cego si\u0119 sprzeda\u0107 swe obrazy pod warszawskim Barbakanem.","image_url":"https://fwcdn.pl/fpo/76/31/7631/7546499.6.jpg","director_id":6}]')},140:function(e){e.exports=JSON.parse('[{"id":3,"first_name":"Daniel","last_name":"Olbrychski","birth_date":"1945-02-24T23:00:00.000Z","image_url":"https://i.wpimg.pl/O/424x660/d.wpimg.pl/208544107-1435651048/2_PAP.jpg","nationality":"polska"},{"id":7,"first_name":"Andrzej","last_name":"Wajda","birth_date":"1926-03-03T23:00:00.000Z","image_url":"https://suchoty.files.wordpress.com/2017/07/000603ef4nwl8gia-c322-f41.jpg","nationality":"polska"},{"id":8,"first_name":"Zbigniew","last_name":"Cybulski","birth_date":"1927-11-01T23:00:00.000Z","image_url":"https://encyklopediateatru.pl/e-teatr/zdjecia/biogramy/c/cybulskizbigniew.jpg","nationality":"polska"},{"id":4,"first_name":"Janusz","last_name":"Morgenstern","birth_date":"1922-11-08T23:00:00.000Z","image_url":"https://img1.onebid.pl/img/646/101625_1b.jpg","nationality":"polska"},{"id":6,"first_name":"Stanis\u0142aw","last_name":"Bareja","birth_date":"1929-12-01T23:00:00.000Z","image_url":"https://m.media-amazon.com/images/M/MV5BZGVhMjA3ZTEtYmQxYS00ZDM4LWEzMmQtMGJiZmRhMzMwMzNjXkEyXkFqcGdeQXVyMTc4MzI2NQ@@._V1_.jpg","nationality":"polska"},{"id":2,"first_name":"Jerzy","last_name":"Sztur","birth_date":"1947-04-15T23:00:00.000Z","image_url":"https://akademiapolskiegofilmu.pl/cache/images/resize_1000x1000/files/PL/Historia_Polskiego_Filmu/AKTORZY/Stuhr_Jerzy/1-F-1811-1-800x800.jpg","nationality":"polska"},{"id":5,"first_name":"Kalina","last_name":"J\u0119drusik","birth_date":"1931-02-04T23:00:00.000Z","image_url":"https://e-teatr.pl/files/multimedias/53094/thumb_jedrusik-odwiedziny.jpg","nationality":"polska"},{"id":1,"first_name":"Juliusz","last_name":"Machulski","birth_date":"1955-02-18T23:00:00.000Z","image_url":"https://akademiapolskiegofilmu.pl/cache/images/resize_1000x1000/files/PL/Historia_Polskiego_Filmu/REZYSERZY/Machulski_Juliusz/1-P-88-3-800x800.jpg","nationality":"polska"}]')},141:function(e){e.exports=JSON.parse('{"App":{"Navbar":{"main":"Home","movies":"Movies","actors":"Actors","persons":"Persons","form":"Forms","language":{"language":"Choose language","polish":"polish","english":"english"}}},"Dashboard":{"new_movies":"New movies"},"Form":{"add_movie":"Add Movie","add_person":"Add person","add_actor":"Add Actor","edit_movie":"Edit Movie","edit_person":"Edit Person","title":"title","movie_title":"movie title","genre":"genre","genres":{"fabular":"Fabular movie","action":"Action movie","animation":"Animation","biography":"Bibiographic","children":"Children movie","documentary":"Documentary","drama":"Drama","erotic":"Erotic movie","family":"Family movie","fantasy":"Fantasy","horror":"Horror","sf":"Science fiction","historic":"Historic movie","costium":"Costium moviey","catastrophic":"Catastrophic","comedy":"Comedy","dark_comedy":"Dark comedy","romcom":"Romantic comedy","drama_comedy":"Drama comedy","parody":"Parody","criminal":"Criminal","gangsta":"Gangsta movie","spy":"Spy movie","musical":"Musical","polit":"Politic movie"},"release_date":"realise data","description":"description","movie_image_url":"movie image url","director_id":"director","first_name":"first name","last_name":"last name","birth_date":"birth date","person_image_url":"person image url","nationality":"nationality","actor":"actor","submit":"submit","add_director":"If director of your movie is not on the list add them above.","thanks_add_movie":"Thanks for adding a movie","thanks_update_movie":"Thanks for editing the movie","thanks_add_person":"Thanks for adding a person","thanks_update_person":"Thanks for editing the person","thanks_add_actor":"Dzi\u0119kujemy za dodanie aktora","thanks_update_actor":"Dzi\u0119kujemy za edycj\u0119 aktora","wrong_title":"Title duplicate","edit":"Edit","cancle":"cancle","validate":"required","cancle_filtr":"reset","submit_filtr":"filter","error":"Title duplicate"},"Movies":{"director":"Director","release_date":"Realise date","description":"Description","genre":"Genre","no_movies":"No movie matching criterions","Sort":{"sort":"Sort","default":"default","release_date":"release date","title":"title","director":"director alfabetic","genre":"genre alfabetic"},"Filtr":{"filtr":"Filtr","director":"directors","genre":"genres","data":"release date","from":"from","to":"to"},"number_of_movies":"Movies on the page","delete_movie":"Movie was deleted"},"Persons":{"birth_date":"Birth date","nationality":"Mationality","Sort":{"sort":"Sort","default":"default","first_name":"first name alfabetic","last_name":"last name alfabetic","birth_date":"birth date","nationality":"nationality"},"number_of_persons":"Persons on the page","directed_movies":"Directed movies","delete":"Delete","delete_person":"Person was deleted","no_persons":"No person matching criterions","Filtr":{"filtr":"Filter","nationality":"nationality","movies":"number of directed movies","birth_date":"birth date","from":"from","to":"to"}},"Error":{"404":"Page not found","500":"Sorry server error"}}')},154:function(e,t,a){},201:function(e,t,a){"use strict";a.r(t);var i=a(1),n=a.n(i),r=a(51),c=a.n(r),o=a(6),s=a(20),d=a(12),l=a.n(d),u=(a(154),a(8)),m=a(14),j=a(19),b=a(9),p=(a(117),a(10)),h=a(41),_=function(e){return e.movies},f=function(e){return e.persons},O=a(3),g=Object(j.b)((function(e){return{persons:f(e),movies:_(e)}}),null)((function(e){var t=e.resources,a=e.movies,n=e.persons,r=Object(i.useState)(n),c=Object(o.a)(r,2),s=c[0],d=c[1],l=Object(i.useState)(a),u=Object(o.a)(l,2),j=u[0],_=u[1],f=Object(i.useState)(a),g=Object(o.a)(f,2),y=g[0],v=g[1],x=Object(i.useState)(1),k=Object(o.a)(x,2),z=k[0],w=k[1],N=Object(i.useState)({moviesOnPage:0,number_of_page:[],max:0}),M=Object(o.a)(N,2),F=M[0],E=M[1],S=Object(i.useState)("id"),P=Object(o.a)(S,2),D=P[0],I=P[1];Object(i.useEffect)((function(){a&&(a.length>0&&n.length>0&&(d(n),_(a),v(a),E({moviesOnPage:6,number_of_page:Object(b.a)(Array(Math.ceil(a.length/6)).keys()).map((function(e){return e+1})),max:Object(b.a)(Array(Math.ceil(a.length/6)).keys())[Object(b.a)(Array(Math.ceil(a.length/6)).keys()).length-1]+1})),function(e){var t={id:"id",release_date:"release_date",title:"title",genre:"genre"}[e],i=Object(b.a)(a).sort((function(e,a){return"release_date"===t?new Date(e[t])-new Date(a[t]):e[t]<a[t]?-1:e[t]>a[t]?1:0}));_(i)}(D))}),[D,a,n]);var A=Object(i.useState)(!1),T=Object(o.a)(A,2),C=T[0],V=T[1],R=Object(i.useState)(!1),B=Object(o.a)(R,2),Z=B[0],G=B[1],J=Object(i.useState)(!1),L=Object(o.a)(J,2),Y=L[0],K=L[1];return Object(O.jsx)(O.Fragment,{children:a&&n&&Object(O.jsxs)("div",{className:"Movies",children:[Object(O.jsxs)("div",{className:"addition",id:"col",children:[Object(O.jsxs)("div",{className:"content_2",children:[Object(O.jsx)("div",{children:t.Movies.Sort.sort}),Object(O.jsxs)("select",{onChange:function(e){return I(e.target.value)},children:[Object(O.jsx)("option",{value:"id",children:t.Movies.Sort.default}),Object(O.jsx)("option",{value:"release_date",children:t.Movies.Sort.release_date}),Object(O.jsx)("option",{value:"title",children:t.Movies.Sort.title}),Object(O.jsx)("option",{value:"genre",children:t.Movies.Sort.genre})]})]}),Object(O.jsxs)("div",{className:"content_2",children:[Object(O.jsx)("div",{children:t.Movies.number_of_movies}),Object(O.jsxs)("select",{onChange:function(e){w(1),E({moviesOnPage:parseInt(e.target.value),number_of_page:Object(b.a)(Array(Math.ceil(y.length/parseInt(e.target.value))).keys()).map((function(e){return e+1})),max:Object(b.a)(Array(Math.ceil(y.length/e.target.value)).keys())[Object(b.a)(Array(Math.ceil(y.length/e.target.value)).keys()).length-1]+1})},children:[Object(O.jsx)("option",{value:"6",children:"6"}),Object(O.jsx)("option",{value:"10",children:"10"}),Object(O.jsx)("option",{value:"16",children:"16"}),Object(O.jsx)("option",{value:"26",children:"26"})]})]}),Object(O.jsxs)("div",{className:"content_2",id:"col",children:[Object(O.jsx)("div",{children:t.Movies.Filtr.filtr}),Object(O.jsx)("button",{onClick:function(){return V(!C)},className:"filtr_button",children:t.Movies.Filtr.director}),C&&Object(O.jsx)("div",{id:"col",children:n.filter((function(e){return a.filter((function(t){return t.director_id===e.id})).length>0})).map((function(e){return Object(O.jsx)("button",{className:"unchecked",onClick:function(){document.getElementById("button_".concat(e.id)).className="unchecked"===document.getElementById("button_".concat(e.id)).className?"checked":"unchecked"},id:"button_".concat(e.id),children:Object(O.jsxs)("div",{className:"title",children:[e.first_name.slice(0,1),". ",e.last_name]})},"dir_".concat(e.id))}))}),Object(O.jsx)("button",{onClick:function(){return G(!Z)},className:"filtr_button",children:t.Movies.Filtr.genre}),Z&&Object(O.jsx)("div",{id:"grid",children:a.map((function(e){return[e.genre,t.Form.genres[e.genre]]})).reduce((function(e,t){return 0===e.filter((function(e){return e[0]===t[0]})).length&&e.push(t),e}),[]).sort((function(e,t){return e[1]<t[1]?-1:e[1]>t[1]?1:0})).map((function(e){return Object(O.jsx)("button",{className:"unchecked",onClick:function(){document.getElementById("button_".concat(e[0])).className="unchecked"===document.getElementById("button_".concat(e[0])).className?"checked":"unchecked"},id:"button_".concat(e[0]),children:Object(O.jsx)("div",{className:"title",children:e[1]})},"genre_".concat(e))}))}),Object(O.jsx)("button",{onClick:function(){return K(!Y)},className:"filtr_button",children:t.Movies.Filtr.data}),Object(O.jsx)(p.Formik,{initialValues:{date_start:"",date_end:""},onSubmit:function(e){var t=j.filter((function(e){return!document.getElementById("button_".concat(e.director_id))||"checked"===document.getElementById("button_".concat(e.director_id)).className})),a=j.filter((function(e){return!document.getElementById("button_".concat(e.genre))||"checked"===document.getElementById("button_".concat(e.genre)).className})),i=j.filter((function(t){return""===e.date_start||new Date(t.release_date)-e.date_start>0})).filter((function(t){return""===e.date_end||new Date(t.release_date)-e.date_end<0})),n=(0===t.length?j:t).filter((function(e){return-1!==(0===a.length?j:a).indexOf(e)})).filter((function(e){return-1!==i.indexOf(e)}));v(n),w(1),E({moviesOnPage:parseInt(F.moviesOnPage),number_of_page:Object(b.a)(Array(Math.ceil(n.length/parseInt(F.moviesOnPage))).keys()).map((function(e){return e+1})),max:Object(b.a)(Array(Math.ceil(n.length/F.moviesOnPage)).keys())[Object(b.a)(Array(Math.ceil(n.length/F.moviesOnPage)).keys()).length-1]+1})},enableReinitialize:!0,children:function(e){e.errors,e.touched,e.isValidating;return Object(O.jsxs)(p.Form,{className:"Form",id:"col",children:[Y&&Object(O.jsxs)("div",{id:"col",children:[Object(O.jsx)("div",{id:"lil_text",children:t.Movies.Filtr.from}),Object(O.jsx)(h.DatePicker,{name:"date_start",id:"pole",dateFormat:"dd.MM.yyyy",placeholder:"dd.mm.yyyy",className:"date_picker",required:!0}),Object(O.jsx)("div",{id:"lil_text",children:t.Movies.Filtr.to}),Object(O.jsx)(h.DatePicker,{name:"date_end",id:"pole",dateFormat:"dd.MM.yyyy",placeholder:"dd.mm.yyyy",className:"date_picker",required:!0})]}),(C||Z||Y)&&Object(O.jsx)("button",{type:"submit",id:"pole",className:"filtr_button",children:t.Form.submit_filtr})]})}}),(C||Z||Y)&&Object(O.jsx)("button",{id:"pole",className:"filtr_button",onClick:function(){return v(j),w(1),void E({moviesOnPage:parseInt(F.moviesOnPage),number_of_page:Object(b.a)(Array(Math.ceil(j.length/parseInt(F.moviesOnPage))).keys()).map((function(e){return e+1})),max:Object(b.a)(Array(Math.ceil(j.length/F.moviesOnPage)).keys())[Object(b.a)(Array(Math.ceil(j.length/F.moviesOnPage)).keys()).length-1]+1})},children:t.Form.cancle_filtr})]})]}),Object(O.jsxs)("div",{className:"content",children:[Object(O.jsx)("div",{id:"grid",children:0===j.filter((function(e){return-1!==y.indexOf(e)})).length?Object(O.jsx)("div",{className:"error",children:t.Movies.no_movies}):j.filter((function(e){return-1!==y.indexOf(e)})).slice((z-1)*F.moviesOnPage,z*F.moviesOnPage).map((function(e){return Object(O.jsx)(m.b,{to:"/movie/".concat(e.id),className:"pod",id:"movie_pod",children:Object(O.jsxs)("div",{id:"row",children:[Object(O.jsx)("img",{className:"poster",src:e.image_url}),Object(O.jsxs)("div",{id:"col",className:"movie_info",children:[Object(O.jsx)("div",{className:"title",children:e.title}),e.director_id&&Object(O.jsx)("div",{id:"director",children:s.filter((function(t){return t.id===e.director_id}))[0].last_name})]})]})},"".concat(e.id))}))}),F.number_of_page.length>1&&Object(O.jsxs)("div",{className:"pagenubmer",id:"row",children:[z>2&&Object(O.jsx)("button",{onClick:function(){w(1)},id:"pagenubmer",children:" first "}),0!==Math.max(0,z-3)&&Object(O.jsx)("div",{children:"..."}),z>1&&Object(O.jsx)("button",{onClick:function(){w(z-1)},id:"pagenubmer",children:" \u2190 "}),F.number_of_page.slice(Math.max(0,z-3),Math.min(z+2,F.max)).map((function(e){return e===z?Object(O.jsx)("button",{onClick:function(){w(e)},id:"pagenubmer",className:"activepage",children:e},"pagenubmer".concat(e)):Object(O.jsx)("button",{onClick:function(){w(e)},id:"pagenubmer",children:e})})),z<F.max&&Object(O.jsx)("button",{onClick:function(){w(z+1)},id:"pagenubmer",children:" \u2192 "}),Math.min(z+2,F.max)!==F.max&&Object(O.jsx)("div",{children:"..."}),z<F.max-1&&Object(O.jsx)("button",{onClick:function(){w(F.max)},id:"pagenubmer",children:" last "})]})]})]})})})),y=function(e){return Object(O.jsx)("div",{className:"popup-box",children:Object(O.jsxs)("div",{className:"box",children:[Object(O.jsx)("span",{className:"close-icon",onClick:e.handleClose,children:"\u2716"}),e.content]})})},v=function(e){var t=e.resources;return Object(O.jsx)("div",{className:"content_2",id:"error",children:Object(O.jsx)("div",{className:"text",children:t.Error[404]})})},x=(a(120),{GET_MOVIES:"GET_MOVIES",ADD_MOVIE:"ADD_MOVIE",DELETE_MOVIE:"DELETE_MOVIE",UPDATE_MOVIE:"UPDATE_MOVIE"}),k=a(139),z=function(e){return function(){var t=Object(s.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:x.UPDATE_MOVIE,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};var w={deleteMovie:function(e){return function(){var t=Object(s.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:x.DELETE_MOVIE,payload:{id:e}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},N=Object(j.b)((function(e){return{persons:f(e),movies:_(e)}}),w)((function(e){var t=e.resources,a=e.movies,n=e.persons,r=e.deleteMovie,c=Object(u.g)().id,d=Object(i.useState)(a.filter((function(e){return e.id===parseInt(c)}))),j=Object(o.a)(d,2),b=j[0],p=j[1],h=Object(i.useState)(1===b.length&&n.filter((function(e){return e.id===b[0].director_id}))),_=Object(o.a)(h,2),f=_[0],g=_[1],x=Object(i.useState)(!(b.length>0)),k=Object(o.a)(x,2),z=k[0],w=k[1],N=Object(i.useState)(!1),M=Object(o.a)(N,2),F=M[0],E=M[1],S=Object(i.useState)(""),P=Object(o.a)(S,2),D=P[0],I=P[1],A=Object(i.useState)((function(){return function(){return E(!1)}})),T=Object(o.a)(A,2),C=T[0],V=T[1],R=Object(u.f)();return Object(i.useEffect)((function(){a.length>0&&(p(a.filter((function(e){return e.id===parseInt(c)}))),w(!(a.filter((function(e){return e.id===parseInt(c)})).length>0)),n.length>0&&g(1===a.filter((function(e){return e.id===parseInt(c)})).length&&n.filter((function(e){return e.id===a.filter((function(e){return e.id===parseInt(c)}))[0].director_id}))))}),[a,n]),Object(O.jsxs)("div",{children:[a.length>0&&n.length>0&&Object(O.jsx)(O.Fragment,{children:z?Object(O.jsx)(v,{resources:t}):Object(O.jsx)("div",{id:"row",children:Object(O.jsxs)("div",{id:"col",className:"movie",children:[Object(O.jsxs)("div",{className:"nag",children:[" ",b[0].title," "]}),Object(O.jsx)("div",{className:"content",children:Object(O.jsxs)("div",{className:"movie_pod",id:"row",children:[Object(O.jsxs)("div",{id:"col",children:[1===f.length&&Object(O.jsxs)(m.b,{to:"/person/".concat(f[0].id),className:"link",children:[" ",t.Movies.director,": ",f[0].first_name," ",f[0].last_name," "]}),Object(O.jsxs)("div",{id:"dsc",children:[" ",t.Movies.release_date,": ",new Date(b[0].release_date).toLocaleDateString("en-GB")," "]}),Object(O.jsxs)("div",{id:"dsc",children:[" ",t.Movies.genre,": ",t.Form.genres[b[0].genre]," "]}),Object(O.jsxs)("div",{id:"dsc",children:[" ",t.Movies.description,": ",b[0].description," "]})]}),Object(O.jsx)("img",{className:"detail_poster",src:b[0].image_url})]})}),Object(O.jsxs)("div",{id:"grid",className:"buttons",children:[Object(O.jsx)(m.b,{className:"nag",to:"/movie/".concat(c,"/edit"),children:t.Form.edit}),Object(O.jsxs)("button",{className:"nag",onClick:Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(t.Movies.delete_movie),V((function(){return function(){return r(parseInt(c)),void R("/movies")}})),E(!0);case 3:case"end":return e.stop()}}),e)}))),children:["  ",t.Persons.delete]})]})]})})}),F&&Object(O.jsx)(y,{content:D,handleClose:function(){C()}})]})})),M=Object(j.b)((function(e){return{movies:_(e),persons:f(e)}}),null)((function(e){var t=e.resources,a=e.movies,n=e.persons,r=Object(i.useState)(!1),c=Object(o.a)(r,2),s=c[0],d=c[1];return Object(i.useEffect)((function(){a&&a.length>0&&d(!0)}),[a,n]),console.log("movies",a,"persons",n),Object(O.jsxs)("div",{id:"col",className:"Dashboard",children:[Object(O.jsx)("div",{className:"nag",children:t.Dashboard.new_movies}),s&&Object(O.jsx)("div",{className:"content",id:"row",children:a.sort((function(e,t){return t.id-e.id})).slice(0,3).map((function(e){return Object(O.jsxs)(m.b,{to:"/movie/".concat(e.id),className:"pod",id:"col",children:[Object(O.jsx)("img",{className:"big_poster",src:e.image_url,alt:e.title}),Object(O.jsx)("div",{className:"title",children:e.title})]},"".concat(e.id))}))})]})})),F=(a(129),Object(j.b)((function(e){return{persons:f(e),movies:_(e)}}),null)((function(e){var t=e.resources,a=e.movies,n=e.persons,r=Object(i.useState)(n),c=Object(o.a)(r,2),s=c[0],d=c[1],l=Object(i.useState)(n),u=Object(o.a)(l,2),j=u[0],_=u[1],f=Object(i.useState)(1),g=Object(o.a)(f,2),y=g[0],v=g[1],x=Object(i.useState)({personsOnPage:0,number_of_page:[],max:0}),k=Object(o.a)(x,2),z=k[0],w=k[1],N=Object(i.useState)("id"),M=Object(o.a)(N,2),F=M[0],E=M[1];Object(i.useEffect)((function(){a&&a.length>0&&n.length>0&&(d(n),_(n),w({personsOnPage:parseInt(6),number_of_page:Object(b.a)(Array(Math.ceil(n.length/parseInt(6))).keys()).map((function(e){return e+1})),max:Object(b.a)(Array(Math.ceil(n.length/6)).keys())[Object(b.a)(Array(Math.ceil(n.length/6)).keys()).length-1]+1}),function(e){var t={id:"id",first_name:"first_name",last_name:"last_name",birth_date:"birth_date",nationality:"nationality"}[e],a=Object(b.a)(n).sort((function(e,a){return"birth_date"===t?new Date(e[t])-new Date(a[t]):e[t]<a[t]?-1:e[t]>a[t]?1:0}));console.log(a),d(a)}(F))}),[F,a,n]);var S=Object(i.useState)(!1),P=Object(o.a)(S,2),D=P[0],I=P[1],A=Object(i.useState)(!1),T=Object(o.a)(A,2),C=T[0],V=T[1],R=Object(i.useState)(!1),B=Object(o.a)(R,2),Z=B[0],G=B[1];return Object(O.jsx)(O.Fragment,{children:a&&n&&Object(O.jsxs)("div",{className:"Persons",children:[Object(O.jsxs)("div",{className:"addition",id:"col",children:[Object(O.jsxs)("div",{className:"content_2",children:[Object(O.jsx)("div",{children:t.Persons.Sort.sort}),Object(O.jsxs)("select",{onChange:function(e){return E(e.target.value)},children:[Object(O.jsx)("option",{value:"id",children:t.Persons.Sort.default}),Object(O.jsx)("option",{value:"first_name",children:t.Persons.Sort.first_name}),Object(O.jsx)("option",{value:"last_name",children:t.Persons.Sort.last_name}),Object(O.jsx)("option",{value:"birth_date",children:t.Persons.Sort.birth_date}),Object(O.jsx)("option",{value:"nationality",children:t.Persons.Sort.nationality})]})]}),Object(O.jsxs)("div",{className:"content_2",children:[Object(O.jsx)("div",{children:t.Persons.number_of_persons}),Object(O.jsxs)("select",{onChange:function(e){v(1),w({personsOnPage:parseInt(e.target.value),number_of_page:Object(b.a)(Array(Math.ceil(j.length/parseInt(e.target.value))).keys()).map((function(e){return e+1})),max:Object(b.a)(Array(Math.ceil(j.length/e.target.value)).keys())[Object(b.a)(Array(Math.ceil(j.length/e.target.value)).keys()).length-1]+1})},children:[Object(O.jsx)("option",{value:"6",children:"6"}),Object(O.jsx)("option",{value:"10",children:"10"}),Object(O.jsx)("option",{value:"16",children:"16"}),Object(O.jsx)("option",{value:"26",children:"26"})]})]}),Object(O.jsxs)("div",{className:"content_2",id:"col",children:[Object(O.jsx)("div",{children:t.Movies.Filtr.filtr}),Object(O.jsx)("button",{onClick:function(){return I(!D)},className:"filtr_button",children:t.Persons.Filtr.nationality}),D&&Object(O.jsx)("div",{id:"col",children:n.reduce((function(e,t){return 0===e.filter((function(e){return e===t.nationality})).length&&e.push(t.nationality),e}),[]).map((function(e){return Object(O.jsx)("button",{className:"unchecked",onClick:function(){document.getElementById("button_".concat(e)).className="unchecked"===document.getElementById("button_".concat(e)).className?"checked":"unchecked"},id:"button_".concat(e),children:Object(O.jsx)("div",{className:"title",children:e})},"dir_".concat(e))}))}),Object(O.jsx)("button",{onClick:function(){return V(!C)},className:"filtr_button",children:t.Persons.Filtr.movies}),C&&Object(O.jsx)("div",{children:a.reduce((function(e,t){return 0===e.filter((function(e){return e[0]===t.director_id})).length?(e.push([t.director_id,1]),e):e.filter((function(e){return e[0]!==t.director_id})).concat([[t.director_id,e.filter((function(e){return e[0]===t.director_id}))[0][1]+1]])}),[]).map((function(e){return e[1]})).reduce((function(e,t){return 0===e.filter((function(e){return e===t})).length&&e.push(t),e}),[]).sort((function(e,t){return e<t?-1:1})).map((function(e){return Object(O.jsx)("button",{className:"unchecked",onClick:function(){document.getElementById("button_".concat(e)).className="unchecked"===document.getElementById("button_".concat(e)).className?"checked":"unchecked"},id:"button_".concat(e),children:Object(O.jsx)("div",{className:"title",children:e})},"genre_".concat(e))}))}),Object(O.jsx)("button",{onClick:function(){return G(!Z)},className:"filtr_button",children:t.Persons.Filtr.birth_date}),Object(O.jsx)(p.Formik,{initialValues:{date_start:"",date_end:""},onSubmit:function(e){var t=s.filter((function(e){return!document.getElementById("button_".concat(e.nationality))||"checked"===document.getElementById("button_".concat(e.nationality)).className})),i=s.filter((function(e){return 0!==a.filter((function(t){return t.director_id===e.id})).length})).filter((function(e){return!!C&&"checked"===document.getElementById("button_".concat(a.reduce((function(e,t){return 0===e.filter((function(e){return e[0]===t.director_id})).length?(e.push([t.director_id,1]),e):e.filter((function(e){return e[0]!==t.director_id})).concat([[t.director_id,e.filter((function(e){return e[0]===t.director_id}))[0][1]+1]])}),[]).filter((function(t){return t[0]===e.id}))[0][1])).className})),n=s.filter((function(t){return""===e.date_start||new Date(t.birth_date)-e.date_start>0})).filter((function(t){return""===e.date_end||new Date(t.birth_date)-e.date_end<0})),r=(0===t.length?s:t).filter((function(e){return-1!==(0===i.length?s:i).indexOf(e)})).filter((function(e){return-1!==n.indexOf(e)}));_(r),v(1),w({personsOnPage:parseInt(z.personsOnPage),number_of_page:Object(b.a)(Array(Math.ceil(r.length/parseInt(z.personsOnPage))).keys()).map((function(e){return e+1})),max:Object(b.a)(Array(Math.ceil(r.length/z.personsOnPage)).keys())[Object(b.a)(Array(Math.ceil(r.length/z.personsOnPage)).keys()).length-1]+1})},enableReinitialize:!0,children:function(e){e.errors,e.touched,e.isValidating;return Object(O.jsxs)(p.Form,{className:"Form",id:"col",children:[Z&&Object(O.jsxs)("div",{id:"col",children:[Object(O.jsx)("div",{id:"lil_text",children:t.Movies.Filtr.from}),Object(O.jsx)(h.DatePicker,{name:"date_start",id:"pole",dateFormat:"dd.MM.yyyy",placeholder:"dd.mm.yyyy",className:"date_picker",required:!0}),Object(O.jsx)("div",{id:"lil_text",children:t.Movies.Filtr.to}),Object(O.jsx)(h.DatePicker,{name:"date_end",id:"pole",dateFormat:"dd.MM.yyyy",placeholder:"dd.mm.yyyy",className:"date_picker",required:!0})]}),(D||C||Z)&&Object(O.jsx)("button",{type:"submit",id:"pole",className:"filtr_button",children:t.Form.submit_filtr})]})}}),(D||C||Z)&&Object(O.jsx)("button",{id:"pole",className:"filtr_button",onClick:function(){return _(s),v(1),void w({personsOnPage:parseInt(z.personsOnPage),number_of_page:Object(b.a)(Array(Math.ceil(s.length/parseInt(z.personsOnPage))).keys()).map((function(e){return e+1})),max:Object(b.a)(Array(Math.ceil(s.length/z.personsOnPage)).keys())[Object(b.a)(Array(Math.ceil(s.length/z.personsOnPage)).keys()).length-1]+1})},children:t.Form.cancle_filtr})]})]}),Object(O.jsxs)("div",{className:"content",children:[Object(O.jsx)("div",{id:"grid",children:0===s.filter((function(e){return-1!==j.indexOf(e)})).length?Object(O.jsx)("div",{className:"error",children:t.Persons.no_persons}):s.filter((function(e){return-1!==j.indexOf(e)})).slice((y-1)*z.personsOnPage,y*z.personsOnPage).map((function(e){return Object(O.jsx)(m.b,{to:"/person/".concat(e.id),className:"pod",id:"person_pod",children:Object(O.jsxs)("div",{id:"row",children:[Object(O.jsx)("img",{className:"poster",src:e.image_url}),Object(O.jsxs)("div",{id:"col",className:"person_info",children:[Object(O.jsx)("div",{className:"last_name",children:e.last_name}),Object(O.jsx)("div",{className:"first_name",children:e.first_name})]})]})},"".concat(e.id))}))}),z.number_of_page.length>1&&Object(O.jsxs)("div",{className:"pagenubmer",id:"row",children:[y>2&&Object(O.jsx)("button",{onClick:function(){v(1)},id:"pagenubmer",children:" first "}),0!==Math.max(0,y-3)&&Object(O.jsx)("div",{children:"..."}),y>1&&Object(O.jsx)("button",{onClick:function(){v(y-1)},id:"pagenubmer",children:" \u2190 "}),z.number_of_page.slice(Math.max(0,y-3),Math.min(y+2,z.max)).map((function(e){return e===y?Object(O.jsx)("button",{onClick:function(){v(e)},id:"pagenubmer",className:"activepage",children:e},"".concat(e)):Object(O.jsx)("button",{onClick:function(){v(e)},id:"pagenubmer",children:e},"".concat(e))})),y<z.max&&Object(O.jsx)("button",{onClick:function(){v(y+1)},id:"pagenubmer",children:" \u2192 "}),Math.min(y+2,z.max)!==z.max&&Object(O.jsx)("div",{children:"..."}),y<z.max-1&&Object(O.jsx)("button",{onClick:function(){v(z.max)},id:"pagenubmer",children:" last "})]})]})]})})}))),E={GET_PERSONS:"GET_PERSONS",ADD_PERSON:"ADD_PERSON",DELETE_PERSON:"DELETE_PERSON",UPDATE_PERSON:"UPDATE_PERSON"},S=a(140),P={deletePerson:function(e){return function(){var t=Object(s.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:E.DELETE_PERSON,payload:{id:e}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateMovie:z},D=Object(j.b)((function(e){return{persons:f(e),movies:_(e)}}),P)((function(e){var t=e.resources,a=e.movies,n=e.persons,r=e.deletePerson,c=e.updateMovie,d=Object(u.g)().id,j=Object(i.useState)(n.filter((function(e){return e.id===parseInt(d)}))),b=Object(o.a)(j,2),p=b[0],h=b[1],_=Object(i.useState)(!(p.length>0)),f=Object(o.a)(_,2),g=f[0],x=f[1],k=Object(i.useState)([]),z=Object(o.a)(k,2),w=z[0],N=z[1],M=Object(i.useState)(!1),F=Object(o.a)(M,2),E=F[0],S=F[1],P=Object(i.useState)(!1),D=Object(o.a)(P,2),I=D[0],A=D[1],T=Object(i.useState)(""),C=Object(o.a)(T,2),V=C[0],R=C[1],B=Object(i.useState)((function(){return function(){return A(!1)}})),Z=Object(o.a)(B,2),G=Z[0],J=Z[1],L=Object(u.f)();Object(i.useEffect)((function(){a.length>0&&n.length>0&&(h(n.filter((function(e){return e.id===parseInt(d)}))),x(!(n.filter((function(e){return e.id===parseInt(d)})).length>0)),N(!g&&a.filter((function(e){return e.director_id===p[0].id}))))}),[a,n,g]);return Object(O.jsxs)("div",{children:[g?Object(O.jsx)(v,{resources:t}):Object(O.jsxs)("div",{id:"col",className:"person",children:[Object(O.jsxs)("div",{id:"col",className:"movie",children:[Object(O.jsxs)("div",{className:"nag",children:[" ",p[0].first_name," ",p[0].last_name," "]}),Object(O.jsx)("div",{className:"content",children:Object(O.jsxs)("div",{id:"row",children:[Object(O.jsxs)("div",{id:"col",children:[Object(O.jsxs)("div",{children:[" ",t.Persons.birth_date,": ",new Date(p[0].birth_date).toLocaleDateString("en-GB")," "]}),Object(O.jsxs)("div",{children:[" ",t.Persons.nationality,": ",p[0].nationality," "]})]}),Object(O.jsx)("img",{className:"detail_poster",src:p[0].image_url,alt:p[0].last_name})]})}),Object(O.jsxs)("div",{id:"grid",className:"buttons",children:[Object(O.jsx)(m.b,{className:"nag",to:"/person/".concat(d,"/edit"),children:t.Form.edit}),Object(O.jsxs)("button",{className:"nag",onClick:Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(t.Persons.delete_person),J((function(){return function(){return w.length>0&&w.forEach((function(e){c({id:parseInt(e.id),title:e.title,genre:e.genre,release_date:e.release_date,description:e.description,image_url:e.image_url})})),r(parseInt(d)),void L("/persons")}})),A(!0);case 3:case"end":return e.stop()}}),e)}))),children:["  ",t.Persons.delete]})]})]}),w.length>0&&Object(O.jsxs)("div",{className:"movies",id:"col",children:[Object(O.jsxs)("button",{className:"nag",onClick:function(){return S(!E)},children:["  ",t.Persons.directed_movies]}),E&&Object(O.jsx)("div",{className:"scroll",children:w.length>3?Object(O.jsx)("div",{className:"scroll_h",children:w.map((function(e){return Object(O.jsxs)(m.b,{to:"/movie/".concat(e.id),className:"pod",id:"col",children:[Object(O.jsx)("img",{src:e.image_url,alt:e.title}),Object(O.jsx)("div",{className:"title",children:e.title})]},"".concat(e.id))}))}):w.map((function(e){return Object(O.jsxs)(m.b,{to:"/movie/".concat(e.id),className:"pod",id:"col",children:[Object(O.jsx)("img",{src:e.image_url,alt:e.title}),Object(O.jsx)("div",{className:"title",children:e.title})]},"".concat(e.id))}))})]})]}),I&&Object(O.jsx)(y,{content:V,handleClose:function(){G()}})]})}));a(115);var I={addMovie:function(e){return function(){var t=Object(s.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:x.ADD_MOVIE,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateMovie:z},A=Object(j.b)((function(e){return{persons:f(e),movies:_(e)}}),I)((function(e){var t=e.resources,a=e.addMovie,n=e.updateMovie,r=e.movies,c=e.persons,d=Object(u.g)().id,j=Object(i.useState)([]),b=Object(o.a)(j,2),_=b[0],f=b[1],g=Object(i.useState)(!(_.length>0)),x=Object(o.a)(g,2),k=x[0],z=x[1],w=Object(i.useState)(""),N=Object(o.a)(w,2),M=N[0],F=N[1],E=Object(i.useState)(!1),S=Object(o.a)(E,2),P=S[0],D=S[1],I=Object(i.useState)({title:"",genre:"",release_date:"",description:"",image_url:"",director_id:""}),A=Object(o.a)(I,2),T=A[0],C=A[1],V=function(e){if(!e)return t.Form.validate};Object(i.useEffect)((function(){z(!0),r&&r.length>0&&c.length>0&&(f(r.filter((function(e){return e.id===parseInt(d)}))),1===r.filter((function(e){return e.id===parseInt(d)})).length&&(C({title:r.filter((function(e){return e.id===parseInt(d)}))[0].title,genre:r.filter((function(e){return e.id===parseInt(d)}))[0].genre,release_date:r.filter((function(e){return e.id===parseInt(d)}))[0].release_date,description:r.filter((function(e){return e.id===parseInt(d)}))[0].description,image_url:r.filter((function(e){return e.id===parseInt(d)}))[0].image_url,director_id:r.filter((function(e){return e.id===parseInt(d)}))[0].director_id}),z(!1)))}),[r,c]);var R=function(){var e=Object(s.a)(l.a.mark((function e(i,c){var o,s,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.director_id=parseInt(i.director_id),!d){e.next=9;break}o=""!==i.director_id?{id:parseInt(d),title:i.title,genre:i.genre,release_date:i.release_date,description:i.description,image_url:i.image_url,director_id:i.director_id}:{id:parseInt(d),title:i.title,genre:i.genre,release_date:i.release_date,description:i.description,image_url:i.image_url},n(o),F(t.Form.thanks_update_movie),D(!0),C({title:o.title,genre:o.genre,release_date:o.release_date,description:o.description,image_url:o.image_url,director_id:o.director_id}),e.next=16;break;case 9:return s=r.sort((function(e,t){return e.id<t.id?1:-1}))[0].id+1,u=""!==i.director_id?{id:s,title:i.title,genre:i.genre,release_date:i.release_date,description:i.description,image_url:i.image_url,director_id:i.director_id}:{id:s,title:i.title,genre:i.genre,release_date:i.release_date,description:i.description,image_url:i.image_url},e.next=13,a(u);case 13:F(t.Form.thanks_add_movie),c.resetForm({title:"",genre:"",release_date:"",description:"",image_url:"",director_id:""}),D(!0);case 16:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(O.jsx)(O.Fragment,{children:c.length>0&&(!k||k&&!d)?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{id:"col",className:"form",children:[Object(O.jsx)("div",{className:"nag",children:d?t.Form.edit_movie:t.Form.add_movie}),Object(O.jsx)("div",{className:"content",children:Object(O.jsx)(p.Formik,{initialValues:T,onSubmit:function(e,t){return R(e,t)},enableReinitialize:!0,children:function(e){var a=e.errors,i=e.touched;return Object(O.jsxs)(p.Form,{className:"Form",id:"col",children:[t.Form.title,Object(O.jsx)(p.Field,{type:"text",name:"title",id:"pole",validate:V}),a.title&&i.title&&Object(O.jsx)("div",{className:"valid_error",children:a.title}),t.Form.genre,Object(O.jsxs)(p.Field,{component:"select",name:"genre",id:"pole",placeholder:"",validate:V,children:[Object(O.jsx)("option",{value:"",id:"pole"}),Object.keys(t.Form.genres).map((function(e){return[e,t.Form.genres[e]]})).sort((function(e,t){return e[1]<t[1]?-1:e[1]>t[1]?1:0})).map((function(e){return Object(O.jsx)("option",{value:e[0],id:"pole",children:e[1]})}))]}),a.genre&&i.genre&&Object(O.jsx)("div",{className:"valid_error",children:a.genre}),t.Form.release_date,Object(O.jsx)(h.DatePicker,{name:"release_date",id:"pole",dateFormat:"dd.MM.yyyy",placeholder:"dd.mm.yyyy",className:"date_picker",required:!0,validate:V}),a.release_date&&i.release_date&&Object(O.jsx)("div",{className:"valid_error",children:a.release_date}),t.Form.description,Object(O.jsx)(p.Field,{as:"textarea",name:"description",id:"pole",validate:V}),a.description&&i.description&&Object(O.jsx)("div",{className:"valid_error",children:a.description}),t.Form.movie_image_url,Object(O.jsx)(p.Field,{type:"text",name:"image_url",id:"pole"}),t.Form.director_id,Object(O.jsxs)(p.Field,{component:"select",name:"director_id",id:"pole",placeholder:"",children:[Object(O.jsx)("option",{value:"",id:"pole"}),c.map((function(e){return Object(O.jsxs)("option",{value:e.id,id:"pole",children:[e.first_name," ",e.last_name]})}))]}),Object(O.jsxs)("div",{id:"row",children:[d&&Object(O.jsx)("button",{id:"pole",children:Object(O.jsxs)(m.b,{to:"/movie/".concat(d),className:"cancle",children:[" \u21a9 ",t.Form.cancle]})}),Object(O.jsx)("button",{type:"submit",id:"pole",children:t.Form.submit})]})]})}})}),P&&Object(O.jsx)(y,{content:M,handleClose:function(){D(!1)}})]})}):Object(O.jsx)(v,{resources:t})})}));var T={addPerson:function(e){return function(){var t=Object(s.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:E.ADD_PERSON,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updatePerson:function(e){return function(){var t=Object(s.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:E.UPDATE_PERSON,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},C=Object(j.b)((function(e){return{persons:f(e),movies:_(e)}}),T)((function(e){var t=e.resources,a=e.addPerson,n=e.updatePerson,r=e.movies,c=e.persons,d=Object(u.g)().id,j=Object(i.useState)([]),b=Object(o.a)(j,2),_=b[0],f=b[1],g=Object(i.useState)(!(_.length>0)),x=Object(o.a)(g,2),k=x[0],z=x[1],w=Object(i.useState)(""),N=Object(o.a)(w,2),M=N[0],F=N[1],E=Object(i.useState)(!1),S=Object(o.a)(E,2),P=S[0],D=S[1],I=Object(i.useState)({first_name:"",last_name:"",birth_date:"",image_url:"",nationality:""}),A=Object(o.a)(I,2),T=A[0],C=A[1],V=function(e){if(!e)return t.Form.validate};Object(i.useEffect)((function(){z(!0),r&&r.length>0&&c.length>0&&(f(c.filter((function(e){return e.id===parseInt(d)}))),1===c.filter((function(e){return e.id===parseInt(d)})).length&&(C({first_name:c.filter((function(e){return e.id===parseInt(d)}))[0].first_name,last_name:c.filter((function(e){return e.id===parseInt(d)}))[0].last_name,birth_date:c.filter((function(e){return e.id===parseInt(d)}))[0].birth_date,image_url:c.filter((function(e){return e.id===parseInt(d)}))[0].image_url,nationality:c.filter((function(e){return e.id===parseInt(d)}))[0].nationality}),z(!1)))}),[r,c]);var R=function(){var e=Object(s.a)(l.a.mark((function e(i,r){var o,s,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=9;break}return o={id:parseInt(d),first_name:i.first_name,last_name:i.last_name,birth_date:i.birth_date,image_url:i.image_url,nationality:i.nationality},e.next=4,n(o);case 4:F(t.Form.thanks_update_person),D(!0),C({first_name:o.first_name,last_name:o.last_name,birth_date:o.birth_date,image_url:o.image_url,nationality:o.nationality}),e.next=16;break;case 9:return s=c.sort((function(e,t){return e.id<t.id?1:-1}))[0].id+1,u={id:s,first_name:i.first_name,last_name:i.last_name,birth_date:i.birth_date,image_url:i.image_url,nationality:i.nationality},e.next=13,a(u);case 13:F(t.Form.thanks_add_person),r.resetForm({first_name:"",last_name:"",birth_date:"",image_url:"",nationality:""}),D(!0);case 16:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(O.jsx)(O.Fragment,{children:!d||!k&&d?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{id:"col",className:"form",children:[Object(O.jsx)("div",{className:"nag",children:1===_.length?t.Form.edit_person:t.Form.add_person}),Object(O.jsx)("div",{className:"content",children:Object(O.jsx)(p.Formik,{initialValues:T,onSubmit:function(e,t){return R(e,t)},enableReinitialize:!0,children:function(e){var a=e.errors,i=e.touched;e.isValidating;return Object(O.jsxs)(p.Form,{className:"Form",id:"col",children:[t.Form.first_name,Object(O.jsx)(p.Field,{name:"first_name",id:"pole",validate:V}),a.first_name&&i.first_name&&Object(O.jsx)("div",{className:"valid_error",children:a.first_name}),t.Form.last_name,Object(O.jsx)(p.Field,{name:"last_name",id:"pole",validate:V}),a.last_name&&i.last_name&&Object(O.jsx)("div",{className:"valid_error",children:a.last_name}),t.Form.birth_date,Object(O.jsx)(h.DatePicker,{name:"birth_date",id:"pole",dateFormat:"dd.MM.yyyy",placeholder:"dd.mm.yyyy",className:"date_picker",required:!0,validate:V}),a.birth_date&&i.birth_date&&Object(O.jsx)("div",{className:"valid_error",children:a.birth_date}),t.Form.person_image_url,Object(O.jsx)(p.Field,{name:"image_url",id:"pole"}),t.Form.nationality,Object(O.jsx)(p.Field,{name:"nationality",id:"pole",validate:V}),a.nationality&&i.nationality&&Object(O.jsx)("div",{className:"valid_error",children:a.nationality}),Object(O.jsxs)("div",{id:"row",children:[1===_.length&&Object(O.jsx)("button",{id:"pole",children:Object(O.jsxs)(m.b,{to:"/person/".concat(d),className:"cancle",children:["\u21a9 ",t.Form.cancle]})}),Object(O.jsx)("button",{type:"submit",id:"pole",children:t.Form.submit})]})]})}})}),P&&Object(O.jsx)(y,{content:M,handleClose:function(){D(!1)}})]})}):Object(O.jsx)(v,{resources:t})})})),V=function(e){var t=e.store,a=e.resources;return Object(O.jsxs)("div",{className:"forms",children:[Object(O.jsx)(A,{store:t,resources:a}),Object(O.jsxs)("div",{id:"col",className:"form",children:[Object(O.jsx)(C,{store:t,resources:a}),Object(O.jsx)("div",{className:"nag",id:"add_director",children:a.Form.add_director})]})]})},R=function(e){var t=e.resources;return Object(O.jsx)("div",{className:"content_2",id:"error",children:Object(O.jsx)("div",{className:"text",children:t.Error[500]})})},B=a(116),Z=a(141);var G={getMovies:function(){return function(e){e({type:x.GET_MOVIES,payload:k})}},getPersons:function(){return function(e){e({type:E.GET_PERSONS,payload:S})}}},J=Object(j.b)((function(e){return{movies:e.movies,persons:e.persons}}),G)((function(e){var t=e.movies,a=e.getMovies,n=e.persons,r=e.getPersons;Object(i.useEffect)((function(){Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=3;break}return e.next=3,r();case 3:if(0!==t.length){e.next=6;break}return e.next=6,a();case 6:case"end":return e.stop()}}),e)})))()}),[n,t,r,a]),console.log("movies",t,"persons",n);var c=Object(i.useState)(B),d=Object(o.a)(c,2),j=d[0],b=d[1],p=[{path:"/",name:j.App.Navbar.main},{path:"/add",name:j.App.Navbar.form},{path:"/movies",name:j.App.Navbar.movies},{path:"/persons",name:j.App.Navbar.persons}],h=Object(u.e)();return Object(O.jsxs)("div",{className:"page",children:[Object(O.jsxs)("div",{className:"nav",children:[Object(O.jsx)("div",{className:"links",children:p.map((function(e){return h.pathname===e.path?Object(O.jsx)(m.b,{to:"".concat(e.path),children:Object(O.jsx)("div",{className:"current_link",children:e.name})},"".concat(e.name)):Object(O.jsx)(m.b,{to:"".concat(e.path),children:Object(O.jsx)("div",{children:e.name})},"".concat(e.name))}))}),Object(O.jsxs)("div",{className:"language",children:[Object(O.jsx)("div",{children:j.App.Navbar.language.language}),Object(O.jsxs)("select",{className:"set_language",onChange:function(e){return t=e.target.value,void b("resources_pl"===t?B:Z);var t},children:[Object(O.jsx)("option",{value:"resources_pl",children:j.App.Navbar.language.polish}),Object(O.jsx)("option",{value:"resources_en",children:j.App.Navbar.language.english})]})]})]}),Object(O.jsx)("div",{className:"switch",children:t.length>0&&n.length>0?Object(O.jsxs)(u.c,{children:[Object(O.jsx)(u.a,{exact:!0,path:"/",element:Object(O.jsx)(M,{resources:j})}),Object(O.jsx)(u.a,{exact:!0,path:"/movies",element:Object(O.jsx)(g,{resources:j})}),Object(O.jsx)(u.a,{exact:!0,path:"/persons",element:Object(O.jsx)(F,{resources:j})}),Object(O.jsx)(u.a,{exact:!0,path:"/add",element:Object(O.jsx)(V,{resources:j})}),Object(O.jsx)(u.a,{exact:!0,path:"/movie/:id",element:Object(O.jsx)(N,{resources:j})}),Object(O.jsx)(u.a,{exact:!0,path:"/movie/:id/edit",element:Object(O.jsx)(A,{resources:j})}),Object(O.jsx)(u.a,{exact:!0,path:"/person/:id",element:Object(O.jsx)(D,{resources:j})}),Object(O.jsx)(u.a,{exact:!0,path:"/person/:id/edit",element:Object(O.jsx)(C,{resources:j})}),Object(O.jsx)(u.a,{element:Object(O.jsx)(v,{resources:j})})]}):Object(O.jsx)(R,{resources:j})}),Object(O.jsx)("footer",{className:"foot"})]})})),L=a(143),Y=a(81),K=a(142),U=a.n(K),q=a(144),X=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.c,H=Object(Y.b)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.GET_MOVIES:return Object(b.a)(t.payload);case x.ADD_MOVIE:return[].concat(Object(b.a)(e),[t.payload]);case x.UPDATE_MOVIE:return e.map((function(e){if(e.id===t.payload.id){var a=e;return a.title=t.payload.title,a.genre=t.payload.genre,a.release_date=t.payload.release_date,a.description=t.payload.description,a.image_url=t.payload.image_url,a.director_id=t.payload.director_id,a}return e}));case x.DELETE_MOVIE:return Object(b.a)(e.filter((function(e){return e.id!==t.payload.id})));default:return e}},persons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.GET_PERSONS:return Object(b.a)(t.payload);case E.ADD_PERSON:return[].concat(Object(b.a)(e),[t.payload]);case E.UPDATE_PERSON:return e.map((function(e){if(e.id===t.payload.id){var a=e;return a.first_name=t.payload.first_name,a.last_name=t.payload.last_name,a.birth_date=t.payload.birth_date,a.image_url=t.payload.image_url,a.nationality=t.payload.nationality,a}return e}));case E.DELETE_PERSON:return Object(b.a)(e.filter((function(e){return e.id!==t.payload.id})));default:return e}}}),Q=Object(Y.d)(H,X(Object(Y.a)(L.a,Object(q.createMiddleware)(),U.a)));c.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(m.a,{children:Object(O.jsx)(j.a,{store:Q,children:Object(O.jsx)(J,{})})})}),document.getElementById("root"))}},[[201,1,2]]]);
//# sourceMappingURL=main.847a6f6d.chunk.js.map